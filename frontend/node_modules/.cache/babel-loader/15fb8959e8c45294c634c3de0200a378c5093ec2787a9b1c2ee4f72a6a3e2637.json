{"ast":null,"code":"import _regeneratorRuntime from\"/home/razo/projects/React-Nodejs-MongoDb-Daytask/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/razo/projects/React-Nodejs-MongoDb-Daytask/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/razo/projects/React-Nodejs-MongoDb-Daytask/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./Contact.css\";import FloatingLabel from'react-bootstrap/FloatingLabel';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/Button';import Header from\"../../Layout/Header/Header\";import{baseUrl}from\"../../services/url\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Contact=function Contact(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),phone=_useState2[0],setPhone=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),validated=_useState8[0],setValidated=_useState8[1];var handleSend=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var form,res,resJson;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:form=event.currentTarget;event.preventDefault();event.stopPropagation();if(!(form.checkValidity()===false)){_context.next=6;break;}_context.next=22;break;case 6:_context.prev=6;_context.next=9;return fetch(baseUrl+\"/user/contact\",{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({phone:phone,content:content,url:\"daytask app\"})});case 9:res=_context.sent;_context.next=12;return res.json();case 12:resJson=_context.sent;if(res.status===200){setPhone(\"\");setContent(\"\");setMessage(resJson.message);}else{setMessage(resJson.message);}_context.next=22;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](6);setMessage(\"לא נשלח נסה שוב\");event.preventDefault();event.stopPropagation();console.log(_context.t0);case 22:setValidated(true);event.preventDefault();event.stopPropagation();case 25:case\"end\":return _context.stop();}}},_callee,null,[[6,16]]);}));return function handleSend(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"full\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u05E6\\u05D5\\u05E8 \\u05E7\\u05E9\\u05E8/\\u05D3\\u05D9\\u05D5\\u05D5\\u05D7 \\u05E2\\u05DC \\u05EA\\u05E7\\u05DC\\u05D4\"}),/*#__PURE__*/_jsxs(Form,{noValidate:true,validated:validated,onSubmit:handleSend,children:[/*#__PURE__*/_jsx(FloatingLabel,{controlId:\"floatingInput\",label:\"\\u05E4\\u05DC\\u05D0\\u05E4\\u05D5\\u05DF\",children:/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"text\",placeholder:\"\\u05E4\\u05DC\\u05D0\\u05E4\\u05D5\\u05DF\",value:phone,onChange:function onChange(e){return setPhone(e.target.value);}})}),/*#__PURE__*/_jsx(FloatingLabel,{controlId:\"floatingInput\",label:\"\\u05D4\\u05D5\\u05D3\\u05E2\\u05D4\",children:/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"text\",placeholder:\"\\u05D4\\u05D5\\u05D3\\u05E2\\u05D4\",value:content,onChange:function onChange(e){return setContent(e.target.value);}})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"\\u05E9\\u05DC\\u05D7\"}),message]})]})]});};export default Contact;","map":{"version":3,"names":["React","useState","FloatingLabel","Form","Button","Header","baseUrl","Contact","phone","setPhone","content","setContent","message","setMessage","validated","setValidated","handleSend","event","form","currentTarget","preventDefault","stopPropagation","checkValidity","fetch","method","headers","body","JSON","stringify","url","res","json","resJson","status","console","log","e","target","value"],"sources":["/home/razo/projects/React-Nodejs-MongoDb-Daytask/frontend/src/pages/Contact/Contact.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./Contact.css\";\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Header from \"../../Layout/Header/Header\";\nimport { baseUrl } from \"../../services/url\";\nconst Contact = () => {\n\n\n    const [phone, setPhone] = useState(\"\");\n    const [content, setContent] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n\n    const [validated, setValidated] = useState(false);\n\n\n    const handleSend = async (event) => {\n        const form = event.currentTarget;\n        event.preventDefault();\n        event.stopPropagation();\n        if (form.checkValidity() === false) {\n        } else {\n            try {\n                let res = await fetch(baseUrl + \"/user/contact\", {\n                    method: \"POST\",\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({\n                        phone: phone,\n                        content: content,\n                        url: \"daytask app\"\n                    }),\n                    \n                });\n                let resJson = await res.json();\n                if (res.status === 200) {\n                    setPhone(\"\");\n                    setContent(\"\");\n                    setMessage(resJson.message);\n\n                } else {\n                    setMessage(resJson.message);\n                }\n            } catch (err) {\n                setMessage(\"לא נשלח נסה שוב\");\n                event.preventDefault();\n                event.stopPropagation();\n                console.log(err);\n            }\n        }\n        setValidated(true);\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    return (\n        <div className=\"full\">\n            <Header />\n            <div className=\"content\">\n            <h1>צור קשר/דיווח על תקלה</h1>\n\n                <Form noValidate validated={validated} onSubmit={handleSend}>\n                    <FloatingLabel controlId=\"floatingInput\" label=\"פלאפון\">\n                        <Form.Control required type=\"text\" placeholder=\"פלאפון\" value={phone} onChange={(e) => setPhone(e.target.value)} />\n                    </FloatingLabel>\n                    <FloatingLabel controlId=\"floatingInput\" label=\"הודעה\">\n                        <Form.Control required type=\"text\" placeholder=\"הודעה\" value={content} onChange={(e) => setContent(e.target.value)} />\n                    </FloatingLabel>\n                    <Button type=\"submit\">שלח</Button>\n                    {message}\n                </Form>\n            </div>\n        </div>\n    );\n}\n\nexport default Contact;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}