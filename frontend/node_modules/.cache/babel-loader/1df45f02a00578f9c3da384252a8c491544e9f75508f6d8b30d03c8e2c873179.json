{"ast":null,"code":"import _regeneratorRuntime from\"/home/razo/projects/React-Nodejs-MongoDb-Daytask/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/razo/projects/React-Nodejs-MongoDb-Daytask/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/razo/projects/React-Nodejs-MongoDb-Daytask/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./Home.css\";import Item from\"../../components/Item\";import ItemDone from\"../../components/ItemDone\";import Popup from\"../../components/Popup\";import PopupRemove from\"../../components/PopupRemove\";import Add from\"../../components/Add\";import{getUserByJWT,getUserDoneByJWT}from'../../services/TaskService';import{useEffect}from\"react\";import Header from\"../../Layout/Header/Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){//popup\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isOpenRemove=_useState4[0],setIsOpenRemove=_useState4[1];//add popup\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),add=_useState6[0],setAdd=_useState6[1];//tasks\nvar _useState7=useState('null'),_useState8=_slicedToArray(_useState7,2),task=_useState8[0],setTask=_useState8[1];var _useState9=useState('null'),_useState10=_slicedToArray(_useState9,2),tasks=_useState10[0],setTasks=_useState10[1];var _useState11=useState('null'),_useState12=_slicedToArray(_useState11,2),tasksDone=_useState12[0],setTasksDone=_useState12[1];var data=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=setTasks;_context.next=3;return getUserByJWT();case 3:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.t2=setTasksDone;_context.next=8;return getUserDoneByJWT();case 8:_context.t3=_context.sent;(0,_context.t2)(_context.t3);console.log('tasks');case 11:case\"end\":return _context.stop();}}},_callee);}));return function data(){return _ref.apply(this,arguments);};}();var addTask=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=setTasks;_context2.next=3;return getUserByJWT();case 3:_context2.t1=_context2.sent;(0,_context2.t0)(_context2.t1);console.log('add');case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function addTask(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(localStorage.getItem('token')==undefined){window.location='/login';}if(tasks==\"null\"){data();}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"full\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[isOpen&&/*#__PURE__*/_jsx(Popup,{name:task.name,content:task.content,id:task._id,setIsOpen:setIsOpen,data:data}),isOpenRemove&&/*#__PURE__*/_jsx(PopupRemove,{name:task.name,content:task.content,id:task._id,setIsOpenRemove:setIsOpenRemove,data:data}),add&&/*#__PURE__*/_jsx(Add,{name:task.name,content:task.content,id:task._id,setAdd:setAdd,addTask:addTask}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:\"\\u05E9\\u05D9\\u05D4\\u05D9\\u05D4 \\u05DC\\u05DA \\u05D9\\u05D5\\u05DD \\u05D9\\u05E4\\u05D4 \\u05DB\\u05DE\\u05E2\\u05D8 \\u05DB\\u05DE\\u05D5\\u05DA\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA \\u05DC\\u05D4\\u05D9\\u05D5\\u05DD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tasks\",children:[Object.keys(tasks).map(function(keyName){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){setTask(tasks[keyName]);setIsOpen(true);},children:/*#__PURE__*/_jsx(Item,{name:tasks[keyName].name,content:tasks[keyName].content},keyName)});}),/*#__PURE__*/_jsx(Item,{name:\"\\u05D2\\u05E8\\u05E1\\u05D4 \\u05DE\\u05E9\\u05D5\\u05E4\\u05E8\\u05EA\",content:\"\\u05DC\\u05E1\\u05D9\\u05D9\\u05DD \\u05D0\\u05EA \\u05D4\\u05D9\\u05D5\\u05DD \\u05D1\\u05DC\\u05D4\\u05D9\\u05D5\\u05EA \\u05D2\\u05E8\\u05E1\\u05D4 \\u05DE\\u05E9\\u05D5\\u05E4\\u05E8\\u05EA \\u05E9\\u05DC \\u05D0\\u05EA\\u05DE\\u05D5\\u05DC\",op:\"0\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u05DE\\u05E9\\u05D9\\u05DE\\u05D5\\u05EA \\u05E9\\u05D1\\u05D5\\u05E6\\u05E2\\u05D5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tasks\",children:[Object.keys(tasksDone).map(function(keyName){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){setTask(tasksDone[keyName]);setIsOpenRemove(true);},children:/*#__PURE__*/_jsx(ItemDone,{name:tasksDone[keyName].name,content:tasksDone[keyName].content},keyName)});}),/*#__PURE__*/_jsx(ItemDone,{name:\"\\u05D0\\u05E0\\u05E8\\u05D2\\u05D9\\u05D4\",content:\"\\u05DC\\u05E7\\u05D5\\u05DD \\u05D1\\u05D1\\u05D5\\u05E7\\u05E8 \\u05E2\\u05DD \\u05D7\\u05D9\\u05D5\\u05DA \\u05D5\\u05EA\\u05D7\\u05D5\\u05E9\\u05D4 \\u05D8\\u05D5\\u05D1\\u05D4\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"big\",children:/*#__PURE__*/_jsx(\"div\",{className:\"add-btn\",onClick:function onClick(){setAdd(true);},children:\"\\u05D4\\u05D5\\u05E1\\u05E3 \\u05DE\\u05E9\\u05D9\\u05DE\\u05D4\"})})]});};export default Home;","map":{"version":3,"names":["React","useState","Item","ItemDone","Popup","PopupRemove","Add","getUserByJWT","getUserDoneByJWT","useEffect","Header","Home","isOpen","setIsOpen","isOpenRemove","setIsOpenRemove","add","setAdd","task","setTask","tasks","setTasks","tasksDone","setTasksDone","data","console","log","addTask","localStorage","getItem","undefined","window","location","name","content","_id","Object","keys","map","keyName"],"sources":["/home/razo/projects/React-Nodejs-MongoDb-Daytask/frontend/src/pages/home/Home.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./Home.css\";\nimport Item from \"../../components/Item\";\nimport ItemDone from \"../../components/ItemDone\";\nimport Popup from \"../../components/Popup\";\nimport PopupRemove from \"../../components/PopupRemove\";\nimport Add from \"../../components/Add\";\n\nimport { getUserByJWT, getUserDoneByJWT } from '../../services/TaskService'\nimport { useEffect } from \"react\";\nimport Header from \"../../Layout/Header/Header\";\n\nconst Home = () => {\n\n  //popup\n  const [isOpen, setIsOpen] = useState(false);\n  const [isOpenRemove, setIsOpenRemove] = useState(false);\n\n  //add popup\n  const [add, setAdd] = useState(false);\n\n  //tasks\n  const [task, setTask] = useState('null');\n  const [tasks, setTasks] = useState('null');\n  const [tasksDone, setTasksDone] = useState('null');\n\n  const data = async () => {\n    setTasks(await getUserByJWT());\n    setTasksDone(await getUserDoneByJWT());\n    console.log('tasks')\n  }\n\n  const addTask = async () => {\n    setTasks(await getUserByJWT());\n    console.log('add')\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem('token') == undefined) {\n      window.location = '/login';\n    }\n    if (tasks == \"null\") {\n      data();\n    }\n  }, [])\n\n  return (\n    <div className=\"full\">\n      <Header />\n      <div className=\"content\">\n        {isOpen && <Popup\n          name={task.name}\n          content={task.content}\n          id={task._id}\n          setIsOpen={setIsOpen}\n          data={data}\n        />}\n        {isOpenRemove && <PopupRemove\n          name={task.name}\n          content={task.content}\n          id={task._id}\n          setIsOpenRemove={setIsOpenRemove}\n          data={data}\n        />}\n        {add && <Add\n          name={task.name}\n          content={task.content}\n          id={task._id}\n          setAdd={setAdd}\n          addTask={addTask}\n          \n        />}\n        <div className=\"card\">שיהיה לך יום יפה כמעט כמוך</div>\n        <h1>משימות להיום</h1>\n        <div className=\"tasks\">\n          {Object.keys(tasks).map((keyName) => (\n            <div onClick={() => { setTask(tasks[keyName]); setIsOpen(true) }}>\n              <Item key={keyName} name={tasks[keyName].name}\n                content={tasks[keyName].content}\n\n              />\n            </div>\n          ))}\n          <Item name=\"גרסה משופרת\"\n            content=\"לסיים את היום בלהיות גרסה משופרת של אתמול\"\n            op='0'\n          />\n        </div>\n        <h1>משימות שבוצעו</h1>\n        <div className=\"tasks\">\n          { Object.keys(tasksDone).map((keyName) => (\n            <div onClick={() => { setTask(tasksDone[keyName]); setIsOpenRemove(true) }}>\n              <ItemDone key={keyName} name={tasksDone[keyName].name}\n                content={tasksDone[keyName].content} \n              />\n            </div>\n          ))}\n          <ItemDone name=\"אנרגיה\"\n            content=\"לקום בבוקר עם חיוך ותחושה טובה\"\n          />\n        </div>\n      </div>\n      <div className=\"big\">\n        <div className=\"add-btn\" onClick={() => { setAdd(true) }}>\n          הוסף משימה\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}